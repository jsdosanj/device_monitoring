#!/bin/bash

# Set the email address to send the reports to
email=email@email.com

# Set the time to send the reports (6:00am PST)
hour=6
timezone=PST

# Set the log file name
log_file=server_report.log

# Display device information and write to the log file
echo "Device Information:" >> $log_file
echo "Device Name: $(hostname)" >> $log_file
echo "Hostname: $(hostname -f)" >> $log_file
echo "Users: $(who)" >> $log_file
echo "Storage: $(df -h)" >> $log_file
echo "RAM: $(free -m)" >> $log_file
echo "CPU: $(lscpu)" >> $log_file
echo "GPU: $(lspci | grep -i vga)" >> $log_file
echo "Internet Connection: $(ip route | grep default | awk '{print $5}')" >> $log_file
echo "" >> $log_file

# Continuously monitor network activity and write to the log file
while true; do
    # Capture the current date and time
    date_time=$(date +"%Y-%m-%d %T %Z")

    # Capture the network activity
    network_activity=$(netstat -an)

    # Write the date and time and network activity to the log file
    echo "$date_time" >> $log_file
    echo "$network_activity" >> $log_file
    echo "" >> $log_file

    # Sleep for 1 minute before capturing the next batch of activity
    sleep 60
done &

# Check the latest data backup and write to the log file
echo "Latest Data Backup:" >> $log_file
echo "$(ls -lt /path/to/backup/directory | head -n 1)" >> $log_file
echo "" >> $log_file

# Wait until the specified time to send the reports
while true; do
    # Get the current hour and timezone
    current_hour=$(date +"%H" -d "1 hour ago")
    current_timezone=$(
